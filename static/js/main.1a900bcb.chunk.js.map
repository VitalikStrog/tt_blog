{"version":3,"sources":["app/hooks.ts","features/PostsList/postsListAPI.ts","features/PostsList/postsListSlice.ts","features/PostCard.tsx","features/PostsList/PostsList.tsx","features/EditForm.tsx","features/NewCommentForm.tsx","features/PostDetails.tsx","features/CreatePostForm.tsx","App.tsx","app/store.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","API_URL","loadPost","postId","fetch","then","response","json","post","createNewPost","newPost","method","headers","body","JSON","stringify","deletePost","loadPosts","createAsyncThunk","a","posts","createPost","removePost","asyncUpdatePost","params","updatedPost","console","log","createNewComment","postsListSlice","createSlice","name","initialState","postsList","selectedPostId","update","reducers","changePost","state","action","payload","setUpdate","Math","random","extraReducers","builder","addCase","fulfilled","actions","selectPosts","selectPostId","selectUpdate","PostCard","dispatch","Card","sx","minWidth","CardActionArea","onClick","id","CardContent","minHeight","Typography","gutterBottom","variant","component","color","title","CardActions","Button","size","PostsList","useEffect","className","map","EditForm","useState","setTitle","setBody","open","setOpen","handleClose","loadedPost","IconButton","Modal","maxWidth","maxHeight","position","top","margin","onClose","Box","display","flexDirection","alignItems","borderRadius","bgcolor","padding","m","width","noValidate","autoComplete","TextField","required","label","value","onChange","event","target","ButtonGroup","NewCommentForm","anchorEl","setAnchorEl","Boolean","undefined","currentTarget","Popover","anchorOrigin","vertical","horizontal","height","ExpandMore","styled","props","expand","other","theme","transform","marginLeft","transition","transitions","create","duration","shortest","PostDetails","React","expanded","setExpanded","comments","setPost","CardHeader","avatar","Avatar","red","disableSpacing","disabled","length","Collapse","in","timeout","unmountOnExit","paragraph","comment","CreatePostForm","onSubmit","type","App","store","configureStore","reducer","postsListReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a900bcb.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","const API_URL = 'https://bloggy-api.herokuapp.com';\n\nexport function loadAllPosts(): Promise<Post[]> {\n  return fetch(`${API_URL}/posts`)\n    .then(response => response.json())\n    .then(posts => posts);\n}\n\nexport function loadPost(postId: number): Promise<Post> {\n  return fetch(`${API_URL}/posts/${postId}?_embed=comments`)\n    .then(response => response.json())\n    .then(post => post);\n}\n\nexport function createNewPost(newPost: Partial<Post>) {\n  return fetch(`${API_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({ ...newPost }),\n  })\n    .then(response => response.json())\n    .then(post => post);\n}\n\nexport function deletePost(postId: number) {\n  return fetch(`${API_URL}/posts/${postId}`, {\n    method: \"DELETE\",\n  })\n    .then(response => response.json())\n    .then(post => post);\n}\n\nexport function updatePost(postId: number, body: Partial<Post> ) {\n  console.log(postId, body);\n  return fetch(`${API_URL}/posts/${postId}`, {\n    method: \"PUT\",\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({ ...body }),\n  })\n    .then(response => response.json())\n    .then(post => post);\n}\n\nexport function createComment(body: { postId: number, body: string }) {\n  return fetch(`${API_URL}/comments`, {\n    method: \"POST\",\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({ ...body }),\n  })\n    .then(response => response.json());\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { RootState } from '../../app/store';\nimport { createNewPost, loadAllPosts, deletePost, updatePost, createComment } from './postsListAPI';\n\nexport interface postsListState {\n  postsList: Post[];\n  selectedPostId: number;\n  update: number;\n}\n\nconst initialState: postsListState = {\n  postsList: [],\n  selectedPostId: 0,\n  update: 0,\n};\n\nexport const loadPosts = createAsyncThunk(\n  'postsList/loadPosts',\n  async () => {\n    const response = await loadAllPosts();\n\n    return response;\n  }\n);\n\nexport const createPost = createAsyncThunk(\n  'postsList/createPost',\n  async (newPost: Partial<Post>) => {\n    const response = await createNewPost(newPost);\n\n    return response;\n  }\n);\n\nexport const removePost = createAsyncThunk(\n  'postsList/deletePost',\n  async (postId: number) => {\n    const response = await deletePost(postId);\n\n    return response;\n  }\n);\n\nexport const asyncUpdatePost = createAsyncThunk(\n  'postsList/updatePost',\n  async (params: { postId: number, updatedPost: Partial<Post>}) => {\n    const response = await updatePost(params.postId, params.updatedPost);\n\n    return response;\n  },\n);\n\nexport const createNewComment = createAsyncThunk(\n  'postsList/createComment',\n  async (params: {postId: number, body: string }) => {\n    const response = await createComment(params);\n\n    return response;\n  }\n)\n\nexport const postsListSlice = createSlice({\n  name: 'postsList',\n  initialState,\n  reducers: {\n    changePost: (state, action) => {\n      state.selectedPostId = action.payload;\n    },\n    setUpdate: (state) => {\n      state.update = Math.random();\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadPosts.fulfilled, (state, action) => {\n        state.postsList = action.payload;\n      })\n      .addCase(removePost.fulfilled, (state) => {\n        state.update = Math.random();\n      })\n      .addCase(createPost.fulfilled, (state) => {\n        state.update = Math.random();\n      })\n      .addCase(createNewComment.fulfilled, (state) => {\n        state.update = Math.random();\n      })\n      .addCase(asyncUpdatePost.fulfilled, (state) => {\n        state.update = Math.random();\n      })\n  }\n})\n\nexport const { changePost, setUpdate } = postsListSlice.actions;\n\nexport const selectPosts = (state: RootState) => state.posts.postsList;\nexport const selectPostId = (state: RootState) => state.posts.selectedPostId;\nexport const selectUpdate = (state: RootState) => state.posts.update;\n\nexport default postsListSlice.reducer;\n","import React from 'react';\n\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport { Button, CardActionArea, CardActions } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { changePost, selectPostId } from './PostsList/postsListSlice';\nimport { removePost } from './PostsList/postsListSlice';\n\ntype Props = {\n  post: Post;\n};\n\n\nexport const PostCard: React.FC<Props> = ({ post }) => {\n  const dispatch = useAppDispatch();\n  const postId = useAppSelector(selectPostId);\n\n  const selectPost = () => {\n    if (post.id !== postId) {\n      dispatch(changePost(post.id));\n    } else {\n      dispatch(changePost(0))\n    }\n  }\n\n  const deletePost = () => {\n    dispatch(removePost(post.id));\n  }\n\n  return (\n    <>\n      <Card sx={{ minWidth: 350 }}>\n        <CardActionArea onClick={() => selectPost()}>\n          <CardContent sx={{ minHeight: 100 }}>\n            <Typography gutterBottom variant=\"h5\" component=\"div\">\n              {`Post #${post.id}`}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {post.title}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions>\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            onClick={() => deletePost()}\n          >\n            Delete\n          </Button>\n        </CardActions>\n      </Card>\n    </>\n  )\n}\n","import React, { useEffect } from 'react';\nimport './PostsList.scss';\n\nimport { PostCard } from '../PostCard';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { loadPosts, selectPosts, selectUpdate } from './postsListSlice';\n\nexport const PostsList: React.FC = () => {\n  const posts = useAppSelector(selectPosts);\n  const update = useAppSelector(selectUpdate);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(loadPosts());\n  }, [update]);\n\n  return (\n    <div className=\"postsList\">\n      {posts.map(post => (\n        <PostCard post={post} key={post.id} />\n      ))}\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { asyncUpdatePost, changePost, selectPostId } from './PostsList/postsListSlice';\n\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport TextField from '@mui/material/TextField';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport IconButton from '@mui/material/IconButton';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { loadPost } from './PostsList/postsListAPI';\n\nexport const EditForm: React.FC = () => {\n  const [title, setTitle] = useState<string>('');\n  const [body, setBody] = useState<string>('');\n  const [open, setOpen] = useState<boolean>(false);\n  const postId = useAppSelector(selectPostId);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const dispatch = useAppDispatch();\n\n  const clearForm = () => {\n    setTitle('');\n    setBody('');\n  };\n\n  const updatePost = () => {\n    const params = { postId, updatedPost: { title, body }}\n    dispatch(asyncUpdatePost(params));\n    dispatch(changePost(0));\n    handleClose();\n    clearForm();\n  };\n\n  useEffect(() => {\n    loadPost(postId)\n      .then(loadedPost => {\n        setTitle(loadedPost.title);\n        setBody(loadedPost.body);\n      });\n  }, [])\n\n  return (\n    <div>\n      <IconButton aria-label=\"settings\" onClick={handleOpen}>\n        <EditIcon />\n      </IconButton>\n      <Modal\n        sx={{\n          maxWidth: 400,\n          maxHeight: 300,\n          position: 'fixed',\n          top: 50,\n          margin: '0 auto',\n        }}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box\n          component=\"form\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            borderRadius: 3,\n            bgcolor: '#eee',\n            padding: 2,\n            '& .MuiTextField-root': { m: 1, width: 380 },\n          }}\n          noValidate\n          autoComplete=\"off\"\n        >\n          <TextField\n            required\n            id=\"outlined-basic\"\n            label=\"Edit title\"\n            variant=\"outlined\"\n            value={title}\n            onChange={event => setTitle(event.target.value)}\n          />\n          <TextField\n            required\n            id=\"outlined-basic\"\n            label=\"Edit post's content\"\n            variant=\"outlined\"\n            value={body}\n            onChange={event => setBody(event.target.value)}\n          />\n          <ButtonGroup variant=\"contained\" aria-label=\"outlined primary button group\">\n            <Button onClick={handleClose} >Cancel</Button>\n            <Button onClick={updatePost}>Update</Button>\n          </ButtonGroup>\n        </Box>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Popover from '@mui/material/Popover';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { createNewComment, selectPostId } from './PostsList/postsListSlice';\n\nexport const NewCommentForm = () => {\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n  const [body, setBody] = useState('');\n  const postId = useAppSelector(selectPostId);\n  const dispatch = useAppDispatch();\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const buttonHandler = () => {\n    dispatch(createNewComment({ postId, body }));\n    handleClose();\n  }\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  return (\n    <div>\n      <Button aria-describedby={id} variant=\"contained\" onClick={handleClick}>\n        Add comment\n      </Button>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        sx={{\n          padding: 5,\n        }}\n      >\n        <TextField\n          required\n          id=\"filled-basic\"\n          label=\"Type comment\"\n          variant=\"outlined\"\n          value={body}\n          onChange={event => setBody(event.target.value)}\n        />\n        <ButtonGroup\n          variant=\"contained\"\n          aria-label=\"outlined primary button group\"\n          sx={{ height: 56}}\n        >\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button onClick={buttonHandler}>Add</Button>\n        </ButtonGroup>\n      </Popover>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport { styled } from '@mui/material/styles';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport CardActions from '@mui/material/CardActions';\nimport Collapse from '@mui/material/Collapse';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport { red } from '@mui/material/colors';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { useAppSelector } from '../app/hooks';\nimport { selectPostId, selectUpdate } from './PostsList/postsListSlice';\nimport { useEffect, useState } from 'react';\nimport { loadPost } from './PostsList/postsListAPI';\nimport { EditForm } from './EditForm';\nimport { NewCommentForm } from './NewCommentForm';\n\ninterface ExpandMoreProps extends IconButtonProps {\n  expand: boolean;\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n  const { expand, ...other } = props;\n  return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n  marginLeft: 'auto',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest,\n  }),\n}));\n\nexport const PostDetails = () => {\n  const [expanded, setExpanded] = React.useState(false);\n  const [post, setPost] = useState<Post>({ id: 0, title: '', body: '', comments: [] });\n  const postId = useAppSelector(selectPostId);\n  const update = useAppSelector(selectUpdate);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  useEffect(() => {\n    setExpanded(false);\n    loadPost(postId)\n      .then(loadedPost => setPost(loadedPost));\n  }, [postId, update])\n\n  return (\n    <Card sx={{ width: 400, minHeight: 224 }}>\n      <CardHeader\n        avatar={\n          <Avatar sx={{ bgcolor: red[500] }} aria-label=\"recipe\">\n            {post.id}\n          </Avatar>\n        }\n        action={\n          <EditForm />\n        }\n        title={post.title}\n      />\n      <CardContent sx={{ minHeight: 60 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {post.body}\n        </Typography>\n      </CardContent>\n      <CardActions disableSpacing>\n        <NewCommentForm />\n        <ExpandMore\n          disabled={post.comments.length === 0}\n          expand={expanded}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </ExpandMore>\n      </CardActions>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <CardContent>\n          <Typography paragraph>Comments:</Typography>\n          <Typography paragraph>\n            {post.comments.map(comment => (\n              <li key={comment.id}>\n                {comment.body}\n              </li>\n            ))}\n          </Typography>\n        </CardContent>\n      </Collapse>\n    </Card>\n  );\n}\n","import React, { useState } from 'react';\nimport { createPost } from './PostsList/postsListSlice';\n\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport TextField from '@mui/material/TextField';\nimport { useAppDispatch } from '../app/hooks';\n\nexport const CreatePostForm: React.FC = () => {\n  const [title, setTitle] = useState<string>('');\n  const [body, setBody] = useState<string>('');\n  const [open, setOpen] = useState<boolean>(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const dispatch = useAppDispatch();\n\n  const clearForm = () => {\n    setTitle('');\n    setBody('');\n  };\n\n  const createNewPost = () => {\n    dispatch(createPost({ title, body }));\n    handleClose();\n    clearForm();\n  }\n\n  return (\n    <div>\n      <Button onClick={handleOpen}>Create post</Button>\n      <Modal\n        sx={{\n          maxWidth: 400,\n          maxHeight: 300,\n          position: 'fixed',\n          top: 50,\n          margin: '0 auto',\n        }}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box\n          onSubmit={createNewPost}\n          component=\"form\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            borderRadius: 3,\n            bgcolor: '#eee',\n            padding: 2,\n            '& .MuiTextField-root': { m: 1, width: 380 },\n          }}\n          noValidate\n          autoComplete=\"off\"\n        >\n          <TextField\n            required\n            id=\"outlined-basic\"\n            label=\"Enter title\"\n            variant=\"outlined\"\n            value={title}\n            onChange={event => setTitle(event.target.value)}\n          />\n          <TextField\n            required\n            id=\"outlined-basic\"\n            label=\"Enter post's content\"\n            variant=\"outlined\"\n            value={body}\n            onChange={event => setBody(event.target.value)}\n          />\n          <ButtonGroup variant=\"contained\" aria-label=\"outlined primary button group\">\n            <Button onClick={handleClose} >Cancel</Button>\n            <Button\n              type=\"submit\"\n            >\n              Create\n            </Button>\n          </ButtonGroup>\n        </Box>\n      </Modal>\n    </div>\n  );\n}\n","import React from 'react';\nimport './App.css';\nimport { PostsList } from './features/PostsList/PostsList';\nimport { PostDetails } from './features/PostDetails'\nimport { useAppSelector } from './app/hooks';\nimport { selectPostId } from './features/PostsList/postsListSlice';\nimport { CreatePostForm } from './features/CreatePostForm';\n\nconst App: React.FC = () => {\n  const postId = useAppSelector(selectPostId);\n\n  return (\n    <div className=\"App\">\n      <main className=\"main-content\">\n        <div className=\"group\">\n          <CreatePostForm />\n          <div className=\"sidebar\">\n            <PostsList />\n          </div>\n        </div>\n        <div className=\"content\">\n          {postId\n            ? <PostDetails />\n            : (\n              <div className=\"selection-message\">\n                {'Click on post to select'}\n              </div>\n            )\n          }\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport postsListReducer from '../features/PostsList/postsListSlice';\n\nexport const store = configureStore({\n  reducer: {\n    posts: postsListReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}